@using Ext.Net;
@using Ext.Net.MVC;

@{
    Layout = "";
}

@{
    ViewBag.Title = "Login";
}

@section Head
{

}
@{
    Layout = "";
}
 @Html.X().ResourceManager()
 @(
        Html.X().Window()
            .Closable(false)
            .CloseAction(CloseAction.Destroy)
            .Resizable(false)
            .Height(150)
            .Icon(Icon.Lock)
            .Title("Login")
            .Draggable(false)
            .Width(350)
            .Modal(true)
            .BodyPadding(5)
            .Layout(LayoutType.Fit)
            .Items(
                Html.X().FormPanel()
                    .Layout(LayoutType.Form)
                    .Border(false)
                    .BodyStyle("background-color:transparent;")
                    .Items(
                        Html.X().TextField()
                            .ID("txtUsername")                            
                            .FieldLabel("Username")
                            .AllowBlank(false)
                            .BlankText("Your username is required."),
                            
                    
                        Html.X().TextField()
                            .ID("txtPassword")                            
                            .InputType(Ext.Net.InputType.Password)
                            .FieldLabel("Password")
                            .AllowBlank(false)
                            .BlankText("Your password is required.")
                            
                    )
            )                
            .Buttons(
                Html.X().Button()
                   .Text("Login")
                   .Icon(Icon.Accept)
                   .DirectEvents(de => {
                        de.Click.Action = "PasswordValidation";
                        de.Click.Success = "this.up('window').close();";
                        de.Click.EventMask.ShowMask = true;
                        de.Click.EventMask.Msg = "Verifying...";
                        de.Click.EventMask.MinDelay = 1000;
                        de.Click.FormID = "#(return this.up('window').down('form');)";
                   })
            )
    )